(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{520:function(n,s,e){"use strict";e.r(s);var a=e(1),i=Object(a.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h2",{attrs:{id:"脚手架开发流程详解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#脚手架开发流程详解"}},[n._v("#")]),n._v(" 脚手架开发流程详解")]),n._v(" "),s("p",[s("strong",[n._v("开发流程")])]),n._v(" "),s("ul",[s("li",[n._v("创建 npm 项目")]),n._v(" "),s("li",[n._v("创建脚手架入口文件，最上方添加：")])]),n._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[n._v("#!/usr/bin/env node")]),n._v("\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),n._v(" "),s("ul",[s("li",[n._v("配置 package.json，添加 bin 属性")]),n._v(" "),s("li",[n._v("编写脚手架代码")]),n._v(" "),s("li",[n._v("将脚手架发布到 npm\n"),s("strong",[n._v("使用流程")])]),n._v(" "),s("li",[n._v("安装脚手架")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("npm install -g your-own-cli\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[s("strong",[n._v("脚手架开发难点解析")])]),n._v(" "),s("ul",[s("li",[n._v("分包：将复杂的系统拆分成若干个模块")]),n._v(" "),s("li",[n._v("命令注册：")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("vue create\nvue add\nvue invoke\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br")])]),s("p",[s("strong",[n._v("参数解析：")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("options全称：--version、--help\noptions简写：-V、-h\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br")])]),s("p",[n._v("带params的options：--path /Users/sam/Desktop/vue-test\n示例：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("vue command [options] <params>\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[s("strong",[n._v("帮助文档：")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("global help\nUsage\nOptions\nCommands\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br")])]),s("p",[n._v("示例：vue 的帮助信息：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("Usage: vue <command> [options]\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[s("strong",[n._v("Options:")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("  -V, --version                              output the version number\n  -h, --help                                 output usage information\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br")])]),s("p",[s("strong",[n._v("Commands:")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("  create [options] <app-name>                create a new project powered by vue-cli-service\n  add [options] <plugin> [pluginOptions]     install a plugin and invoke its generator in an already created project\n  invoke [options] <plugin> [pluginOptions]  invoke the generator of a plugin in an already created project\n  inspect [options] [paths...]               inspect the webpack config in a project with vue-cli-service\n  serve [options] [entry]                    serve a .js or .vue file in development mode with zero config\n  build [options] [entry]                    build a .js or .vue file in production mode with zero config\n  ui [options]                               start and open the vue-cli ui\n  init [options] <template> <app-name>       generate a project from a remote template (legacy API, requires @vue/cli-init)\n  config [options] [value]                   inspect and modify the config\n  outdated [options]                         (experimental) check for outdated vue cli service / plugins\n  upgrade [options] [plugin-name]            (experimental) upgrade vue cli service / plugins\n  migrate [options] [plugin-name]            (experimental) run migrator for an already-installed cli plugin\n  info                                       print debugging information about your environment\n\n  Run vue <command> --help for detailed usage of given command.\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("command help\nUsage\nOptions\nvue create 的帮助信息：\n\nUsage: create [options] <app-name>\n\ncreate a new project powered by vue-cli-service\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('Options:\n  -p, --preset <presetName>       Skip prompts and use saved or remote preset\n  -d, --default                   Skip prompts and use default preset\n  -i, --inlinePreset <json>       Skip prompts and use inline JSON string as preset\n  -m, --packageManager <command>  Use specified npm client when installing dependencies\n  -r, --registry <url>            Use specified npm registry when installing dependencies (only for npm)\n  -g, --git [message]             Force git initialization with initial commit message\n  -n, --no-git                    Skip git initialization\n  -f, --force                     Overwrite target directory if it exists\n  --merge                         Merge target directory if it exists\n  -c, --clone                     Use git clone when fetching remote preset\n  -x, --proxy <proxyUrl>          Use specified proxy when creating project\n  -b, --bare                      Scaffold project without beginner instructions\n  --skipGetStarted                Skip displaying "Get started" instructions\n  -h, --help                      output usage information\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br")])]),s("p",[s("strong",[n._v("还有很多，比如：")])]),n._v(" "),s("ul",[s("li",[n._v("命令行交互")]),n._v(" "),s("li",[n._v("日志打印")]),n._v(" "),s("li",[n._v("命令行文字变色")]),n._v(" "),s("li",[n._v("网络通信：HTTP/WebSocket")]),n._v(" "),s("li",[n._v("文件处理")]),n._v(" "),s("li",[n._v("等等……")])]),n._v(" "),s("p",[s("strong",[n._v("脚手架本地link标准流程")])]),n._v(" "),s("ul",[s("li",[n._v("链接本地脚手架：")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("cd your-cli-dir\nnpm link\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br")])]),s("ul",[s("li",[n._v("链接本地库文件：")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("cd your-lib-dir\nnpm link\ncd your-cli-dir\nnpm link your-lib\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br")])]),s("ul",[s("li",[n._v("取消链接本地库文件：")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("cd your-lib-dir\nnpm unlink\ncd your-cli-dir\n# link存在\nnpm unlink your-lib\n# link不存在\nrm -rf node_modules\nnpm install -S your-lib\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br")])]),s("ul",[s("li",[n._v("理解 npm link：")])]),n._v(" "),s("p",[s("strong",[n._v("npm link your-lib")]),n._v(" 将当前项目中 "),s("strong",[n._v("node_modules")]),n._v(" 下指定的库文件链接到 "),s("strong",[n._v("node")]),n._v(" 全局 "),s("strong",[n._v("node_modules")]),n._v(" 下的库文件\n"),s("strong",[n._v("npm link:")]),n._v(" 将当前项目链接到 "),s("strong",[n._v("node")]),n._v(" 全局 "),s("strong",[n._v("node_modules")]),n._v(" 中作为一个库文件，并解析 bin 配置创建可执行文件")]),n._v(" "),s("ul",[s("li",[n._v("理解 npm unlink：")])]),n._v(" "),s("p",[s("strong",[n._v("npm unlink:")]),n._v(" 将当前项目从 "),s("strong",[n._v("node")]),n._v(" 全局 "),s("strong",[n._v("node_modules")]),n._v("- 中移除")]),n._v(" "),s("p",[s("strong",[n._v("npm unlink your-lib:")]),n._v(" 将当前项目中的库文件依赖移除")])])}),[],!1,null,null,null);s.default=i.exports}}]);