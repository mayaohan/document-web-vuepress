(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{486:function(t,s,e){"use strict";e.r(s);var a=e(1),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"从一道面试题说起"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从一道面试题说起"}},[t._v("#")]),t._v(" 从一道面试题说起")]),t._v(" "),s("blockquote",[s("p",[t._v("可能有很多小伙伴在面试的时候,经常被问到"),s("strong",[t._v("localStorage")]),t._v("和"),s("strong",[t._v("sessionStorage")]),t._v(" ,那么关于"),s("strong",[t._v("localStorage")]),t._v("和"),s("strong",[t._v("sessionStorage")]),t._v(" 我们应该如何去回答呢？ 我们可以从这两者的差异性去了解一下,接下来我们一起来看看吧！")])]),t._v(" "),s("h3",{attrs:{id:"初识sessionstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初识sessionstorage"}},[t._v("#")]),t._v(" 初识sessionStorage")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/47e946f6d22d4de8a906d6fa42762cde~tplv-k3u1fbpfcp-watermark.image?",alt:"session.png"}})]),t._v(" "),s("p",[t._v("从上图我们可以看到在application中有"),s("strong",[t._v("sessionStorage")]),t._v(" ,Key和Value存储了若干数据,那么我们如何去使用呢？")]),t._v(" "),s("h4",{attrs:{id:"如何使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何使用"}},[t._v("#")]),t._v(" 如何使用")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const person = { \n  name: 'huangyanting',\n  age: 3 \n}\nsessionStorage.setItem('tg',person)\n\nsessionStorage.getItem('tg')  // '[object Object]'\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1970b7be351a4638b9574dc2e363c0d1~tplv-k3u1fbpfcp-watermark.image?",alt:"1.png"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d1768b4e0dda4945a60efed43a49595d~tplv-k3u1fbpfcp-watermark.image?",alt:"2.png"}})]),t._v(" "),s("p",[t._v("可能会有小伙伴会有疑问,为什么我们存储的明明是一个对象,到了SessionStorage中tg对应的Value是[object Object]呢? 当然,这不是我们预期想要的效果, 那么我们如何处理成我们想要的数据呢？")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sessionStorage.setItem('tg',JSON.stringify(person))\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7e83affd3a624f43855bdddfad0f8942~tplv-k3u1fbpfcp-watermark.image?",alt:"3.png"}}),t._v("\n显然,现在已经达到预期,那么我们尝试取出数据看看")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const result = sessionStorage.getItem('tg')\n// '{\"name\":\"huangyanting\",\"age\":3}'\n\nObject.prototype.toString.call(result)  \n// '[object String]'\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2fe34af8a6a452a8b82efb402741815~tplv-k3u1fbpfcp-watermark.image?",alt:"4.png"}})]),t._v(" "),s("p",[t._v("我们取出的数据是string类型, 当然这也不是我们想要的预期效果, 那么如何处理呢？")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const changeResult = JSON.parse(sessionStorage.getItem('tg'))\n// {name: 'huangyanting', age: 3}\n\nObject.prototype.toString.call(changeResult)\n//'[object Object]'\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("由此可知,通过转换成字符串的形式存储,取出的时候转换成对象,就能正常的存储和读取。")]),t._v(" "),s("h4",{attrs:{id:"内存大小"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内存大小"}},[t._v("#")]),t._v(" 内存大小")]),t._v(" "),s("p",[t._v("肯定很多小伙伴会有疑问,"),s("strong",[t._v("sessionStorage")]),t._v("的内存到底有多大呢？")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://dev-test.nemikor.com/web-storage/support-test/",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线测试"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3b9ea44bdf004ea08ab3b7e55030bed5~tplv-k3u1fbpfcp-watermark.image?",alt:"5.png"}}),t._v("\n通过上图所示,我们可以得到 "),s("strong",[t._v("localStorage")]),t._v("和"),s("strong",[t._v("sessionStorage")]),t._v("的存储空间均为5101k, 约等于4.98M")]),t._v(" "),s("h4",{attrs:{id:"失效时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#失效时间"}},[t._v("#")]),t._v(" 失效时间")]),t._v(" "),s("p",[s("strong",[t._v("sessionStorage")]),t._v("的失效时间为当前会话是否被关闭, 如果当前会话中存储有key和value,会话关闭数据则消失,所以我们可以得到结论,"),s("strong",[t._v("sessionStorage")]),t._v("的失效取决于会话")]),t._v(" "),s("p",[s("strong",[t._v("localStorage")]),t._v("的失效时间为用户手动删除,相比"),s("strong",[t._v("sessionStorage")]),t._v("的失效方式是不一样的")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("localStorage.setItem('tg',' = =')\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/90ba64a0c00f45828834d6b01fbc561c~tplv-k3u1fbpfcp-watermark.image?",alt:"6.png"}})]),t._v(" "),s("p",[t._v("当我们需要移除的时候,不过需要注意的是,我们在使用 "),s("strong",[t._v("localStorage")]),t._v("的时候,移除、存储方式和取出方式与"),s("strong",[t._v("sessionStorage")]),t._v("是保持一致的")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("localStorage.removeItem('tg')\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/063c0e27cfbe4d7eb8088d798960531a~tplv-k3u1fbpfcp-watermark.image?",alt:"7.png"}})]),t._v(" "),s("h4",{attrs:{id:"使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),s("p",[t._v("在我们日常开发中,我们可以根据业务场景去使用"),s("strong",[t._v("sessionStorage")]),t._v("和 "),s("strong",[t._v("localStorage")]),t._v(",考虑存储空间的大小,当然我们不能滥用,不足之处还请指正~")])])}),[],!1,null,null,null);s.default=n.exports}}]);