(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{494:function(e,t,a){"use strict";a.r(t);var s=a(1),v=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"一、是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、是什么"}},[e._v("#")]),e._v(" 一、是什么")]),e._v(" "),t("p",[e._v("HTTP头字段（HTTP header fields）,是指在超文本传输协议（HTTP）的请求和响应消息中的消息头部分,它们定义了一个超文本传输协议事务中的操作参数,HTTP头部字段可以自己根据需要定义，因此可能在 "),t("code",[e._v("Web")]),e._v("服务器和浏览器上发现非标准的头字段")]),e._v(" "),t("p",[e._v("下面是一个"),t("code",[e._v("HTTP")]),e._v("请求的请求头：")]),e._v(" "),t("div",{staticClass:"language-http line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-http"}},[t("code",[t("span",{pre:!0,attrs:{class:"token request-line"}},[t("span",{pre:!0,attrs:{class:"token method property"}},[e._v("GET")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token request-target url"}},[e._v("/home.html")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token http-version property"}},[e._v("HTTP/1.1")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("Host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v("developer.mozilla.org")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("User-Agent")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v("Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:50.0) Gecko/20100101 Firefox/50.0")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("Accept")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v("text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("Accept-Language")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v("en-US,en;q=0.5")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("Accept-Encoding")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v("gzip, deflate, br")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("Referer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v("https://developer.mozilla.org/testpage.html")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("Connection")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v("keep-alive")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("Upgrade-Insecure-Requests")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v("1")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("If-Modified-Since")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v("Mon, 18 Jul 2016 02:36:04 GMT")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("If-None-Match")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v('"c561c68d0ba92bbeb8b0fff2a9199f722e3a621a"')])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("Cache-Control")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token header-value"}},[e._v("max-age=0")])]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br")])]),t("h2",{attrs:{id:"二、分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、分类"}},[e._v("#")]),e._v(" 二、分类")]),e._v(" "),t("p",[e._v("常见的请求字段如下表所示：")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("字段名")]),e._v(" "),t("th",[e._v("说明")]),e._v(" "),t("th",[e._v("示例")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("Accept")]),e._v(" "),t("td",[e._v("能够接受的回应内容类型（Content-Types）")]),e._v(" "),t("td",[e._v("Accept: text/plain")])]),e._v(" "),t("tr",[t("td",[e._v("Accept-Charset")]),e._v(" "),t("td",[e._v("能够接受的字符集")]),e._v(" "),t("td",[e._v("Accept-Charset: utf-8")])]),e._v(" "),t("tr",[t("td",[e._v("Accept-Encoding")]),e._v(" "),t("td",[e._v("能够接受的编码方式列表")]),e._v(" "),t("td",[e._v("Accept-Encoding: gzip, deflate")])]),e._v(" "),t("tr",[t("td",[e._v("Accept-Language")]),e._v(" "),t("td",[e._v("能够接受的回应内容的自然语言列表")]),e._v(" "),t("td",[e._v("Accept-Language: en-US")])]),e._v(" "),t("tr",[t("td",[e._v("Authorization")]),e._v(" "),t("td",[e._v("用于超文本传输协议的认证的认证信息")]),e._v(" "),t("td",[e._v("Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==")])]),e._v(" "),t("tr",[t("td",[e._v("Cache-Control")]),e._v(" "),t("td",[e._v("用来指定在这次的请求/响应链中的所有缓存机制 都必须 遵守的指令")]),e._v(" "),t("td",[e._v("Cache-Control: no-cache")])]),e._v(" "),t("tr",[t("td",[e._v("Connection")]),e._v(" "),t("td",[e._v("该浏览器想要优先使用的连接类型")]),e._v(" "),t("td",[e._v("Connection: keep-alive Connection: Upgrade")])]),e._v(" "),t("tr",[t("td",[e._v("Cookie")]),e._v(" "),t("td",[e._v("服务器通过 Set- Cookie （下文详述）发送的一个 超文本传输协议Cookie")]),e._v(" "),t("td",[e._v("Cookie: $Version=1; Skin=new;")])]),e._v(" "),t("tr",[t("td",[e._v("Content-Length")]),e._v(" "),t("td",[e._v("以 八位字节数组 （8位的字节）表示的请求体的长度")]),e._v(" "),t("td",[e._v("Content-Length: 348")])]),e._v(" "),t("tr",[t("td",[e._v("Content-Type")]),e._v(" "),t("td",[e._v("请求体的 多媒体类型")]),e._v(" "),t("td",[e._v("Content-Type: application/x-www-form-urlencoded")])]),e._v(" "),t("tr",[t("td",[e._v("Date")]),e._v(" "),t("td",[e._v("发送该消息的日期和时间")]),e._v(" "),t("td",[e._v("Date: Tue, 15 Nov 1994 08:12:31 GMT")])]),e._v(" "),t("tr",[t("td",[e._v("Expect")]),e._v(" "),t("td",[e._v("表明客户端要求服务器做出特定的行为")]),e._v(" "),t("td",[e._v("Expect: 100-continue")])]),e._v(" "),t("tr",[t("td",[e._v("Host")]),e._v(" "),t("td",[e._v("服务器的域名(用于虚拟主机 )，以及服务器所监听的传输控制协议端口号")]),e._v(" "),t("td",[e._v("Host: en.wikipedia.org:80 Host: en.wikipedia.org")])]),e._v(" "),t("tr",[t("td",[e._v("If-Match")]),e._v(" "),t("td",[e._v("仅当客户端提供的实体与服务器上对应的实体相匹配时，才进行对应的操作。主要作用时，用作像 PUT 这样的方法中，仅当从用户上次更新某个资源以来，该资源未被修改的情况下，才更新该资源")]),e._v(" "),t("td",[e._v('If-Match: "737060cd8c284d8af7ad3082f209582d"')])]),e._v(" "),t("tr",[t("td",[e._v("If-Modified-Since")]),e._v(" "),t("td",[e._v("允许在对应的内容未被修改的情况下返回304未修改")]),e._v(" "),t("td",[e._v("If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT")])]),e._v(" "),t("tr",[t("td",[e._v("If-None-Match")]),e._v(" "),t("td",[e._v("允许在对应的内容未被修改的情况下返回304未修改")]),e._v(" "),t("td",[e._v('If-None-Match: "737060cd8c284d8af7ad3082f209582d"')])]),e._v(" "),t("tr",[t("td",[e._v("If-Range")]),e._v(" "),t("td",[e._v("如果该实体未被修改过，则向我发送我所缺少的那一个或多个部分；否则，发送整个新的实体")]),e._v(" "),t("td",[e._v('If-Range: "737060cd8c284d8af7ad3082f209582d"')])]),e._v(" "),t("tr",[t("td",[e._v("Range")]),e._v(" "),t("td",[e._v("仅请求某个实体的一部分")]),e._v(" "),t("td",[e._v("Range: bytes=500-999")])]),e._v(" "),t("tr",[t("td",[e._v("User-Agent")]),e._v(" "),t("td",[e._v("浏览器的浏览器身份标识字符串")]),e._v(" "),t("td",[e._v("User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/21.0")])]),e._v(" "),t("tr",[t("td",[e._v("Origin")]),e._v(" "),t("td",[e._v("发起一个针对 跨来源资源共享 的请求")]),e._v(" "),t("td",[e._v("Origin: http://www.example-social-network.com")])])])]),e._v(" "),t("h2",{attrs:{id:"三、使用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、使用场景"}},[e._v("#")]),e._v(" 三、使用场景")]),e._v(" "),t("p",[e._v("通过配合请求头和响应头，可以满足一些场景的功能实现：")]),e._v(" "),t("h3",{attrs:{id:"协商缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[e._v("#")]),e._v(" 协商缓存")]),e._v(" "),t("p",[e._v("协商缓存是利用的是"),t("code",[e._v("【Last-Modified，If-Modified-Since】")]),e._v("和"),t("code",[e._v("【ETag、If-None-Match】")]),e._v("这两对请求头响应头来管理的")]),e._v(" "),t("p",[t("code",[e._v("Last-Modified")]),e._v(" 表示本地文件最后修改日期，浏览器会在request header加上"),t("code",[e._v("If-Modified-Since")]),e._v("（上次返回的"),t("code",[e._v("Last-Modified")]),e._v("的值），询问服务器在该日期后资源是否有更新，有更新的话就会将新的资源发送回来")]),e._v(" "),t("p",[t("code",[e._v("Etag")]),e._v("就像一个指纹，资源变化都会导致"),t("code",[e._v("ETag")]),e._v("变化，跟最后修改时间没有关系，"),t("code",[e._v("ETag")]),e._v("可以保证每一个资源是唯一的")]),e._v(" "),t("p",[t("code",[e._v("If-None-Match")]),e._v("的header会将上次返回的"),t("code",[e._v("Etag")]),e._v("发送给服务器，询问该资源的"),t("code",[e._v("Etag")]),e._v("是否有更新，有变动就会发送新的资源回来")]),e._v(" "),t("p",[e._v("而强制缓存不需要发送请求到服务端，根据请求头"),t("code",[e._v("expires")]),e._v("和"),t("code",[e._v("cache-control")]),e._v("判断是否命中强缓存")]),e._v(" "),t("p",[e._v("强制缓存与协商缓存的流程图如下所示：")]),e._v(" "),t("p",[t("img",{attrs:{src:"/document-web-vuepress/images/header01.avif",alt:"lerna"}})]),e._v(" "),t("h3",{attrs:{id:"会话状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#会话状态"}},[e._v("#")]),e._v(" 会话状态")]),e._v(" "),t("p",[t("code",[e._v("cookie")]),e._v("，类型为「小型文本文件」，指某些网站为了辨别用户身份而储存在用户本地终端上的数据，通过响应头"),t("code",[e._v("set-cookie")]),e._v("决定")]),e._v(" "),t("p",[e._v("作为一段一般不超过 4KB 的小型文本数据，它由一个名称（Name）、一个值（Value）和其它几个用于控制 "),t("code",[e._v("Cookie")]),e._v("有效期、安全性、使用范围的可选属性组成")]),e._v(" "),t("p",[t("code",[e._v("Cookie")]),e._v(" 主要用于以下三个方面：")]),e._v(" "),t("ul",[t("li",[e._v("会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）")]),e._v(" "),t("li",[e._v("个性化设置（如用户自定义设置、主题等）")]),e._v(" "),t("li",[e._v("浏览器行为跟踪（如跟踪分析用户行为等")])])])}),[],!1,null,null,null);t.default=v.exports}}]);